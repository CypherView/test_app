{
  "version": 3,
  "sources": ["src/app/features/app-store/pages/app-creator-dashboard/app-creator-dashboard.component.ts", "src/app/features/app-store/pages/app-creator-dashboard/app-creator-dashboard.component.html"],
  "sourcesContent": ["import {\n  Component,\n  inject,\n  signal,\n  TemplateRef,\n  ViewChild,\n  OnInit,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterModule } from '@angular/router';\nimport { catchError, of } from 'rxjs';\n\nimport { AppStoreService } from '../../services/app-store.service';\nimport { AppDefinition } from '../../models/app-store.models';\nimport { ClientDataService } from '../../../clients/services/client-data.service';\n\nimport { ButtonModule } from 'primeng/button';\nimport { CardModule } from 'primeng/card';\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\nimport { TooltipModule } from 'primeng/tooltip';\nimport { GridComponent } from '../../../../shared/components/grid/grid.component';\nimport { GridColumn } from '../../../../shared/models/grid.model';\nimport { AppStatusBadgeComponent } from '../../components/app-status-badge/app-status-badge.component';\n\n@Component({\n  selector: 'app-creator-dashboard',\n  standalone: true,\n  imports: [\n    CommonModule,\n    RouterModule,\n    ButtonModule,\n    CardModule,\n    ProgressSpinnerModule,\n    TooltipModule,\n    GridComponent,\n    AppStatusBadgeComponent,\n  ],\n  templateUrl: './app-creator-dashboard.component.html',\n  styleUrls: ['./app-creator-dashboard.component.scss'],\n})\nexport class AppCreatorDashboardComponent implements OnInit {\n  private readonly appStoreService = inject(AppStoreService);\n  private readonly clientDataService = inject(ClientDataService);\n  private readonly router = inject(Router);\n\n  @ViewChild('appIconTemplate', { static: true })\n  appIconTemplate!: TemplateRef<{ $implicit: AppDefinition }>;\n  @ViewChild('statusTemplate', { static: true })\n  statusTemplate!: TemplateRef<{ $implicit: AppDefinition }>;\n  @ViewChild('actionsTemplate', { static: true })\n  actionsTemplate!: TemplateRef<{ $implicit: AppDefinition }>;\n\n  // State Signals\n  readonly isLoading = signal(true);\n  readonly error = signal<string | null>(null);\n  readonly apps = signal<AppDefinition[]>([]);\n\n  readonly columns = signal<GridColumn<AppDefinition>[]>([]);\n\n  constructor() {\n    this.loadApps();\n  }\n\n  ngOnInit(): void {\n    this.setupColumns();\n  }\n\n  private setupColumns(): void {\n    this.columns.set([\n      {\n        field: 'name',\n        header: 'App',\n        sortable: true,\n        cellTemplate: this.appIconTemplate,\n      },\n      {\n        field: 'status',\n        header: 'Status',\n        sortable: true,\n        cellTemplate: this.statusTemplate,\n      },\n      {\n        field: 'installCount',\n        header: 'Installs',\n        sortable: true,\n        transform: 'font-mono',\n      },\n      {\n        field: 'averageRating',\n        header: 'Rating',\n        sortable: true,\n      },\n      {\n        field: 'updatedDate',\n        header: 'Last Updated',\n        sortable: true,\n        valueGetter: (app) => new Date(app.updatedDate).toLocaleDateString(),\n      },\n      {\n        field: 'actions',\n        header: 'Actions',\n        cellTemplate: this.actionsTemplate,\n      },\n    ]);\n  }\n\n  private loadApps(): void {\n    this.isLoading.set(true);\n    this.error.set(null);\n\n    this.appStoreService\n      .getMyApps({\n        owner: this.clientDataService.getSelectedClient()?.id ?? '',\n      })\n      .pipe(\n        catchError(() => {\n          this.error.set('Unable to load your apps. Please try again.');\n          return of([] as AppDefinition[]);\n        }),\n      )\n      .subscribe((apps) => {\n        this.apps.set(apps);\n        this.isLoading.set(false);\n      });\n  }\n\n  reload(): void {\n    this.loadApps();\n  }\n\n  editApp(app: AppDefinition): void {\n    this.router\n      .navigate(['/app-store/editor'], {\n        queryParams: { appId: app.id },\n        state: { appToEdit: app },\n      })\n      .catch(() => {});\n  }\n}\n", "<div class=\"flex flex-col h-full w-full\">\n  <div class=\"px-6 pt-6 flex justify-end items-center flex-none\">\n    <p-button\n      routerLink=\"../editor\"\n      label=\"Create New App\"\n      icon=\"pi pi-plus\"\n      severity=\"primary\"\n    />\n  </div>\n\n  <!-- Content Area -->\n  <div class=\"flex-1 min-h-0 w-full overflow-hidden p-6\">\n    @if (error()) {\n      <div class=\"flex flex-col items-center justify-center py-20 text-center\">\n        <div\n          class=\"w-16 h-16 bg-surface-50 rounded-full flex items-center justify-center mb-4\"\n        >\n          <i class=\"pi pi-exclamation-triangle text-3xl\"></i>\n        </div>\n        <h3 class=\"text-xl font-bold text-surface-900 mb-2\">{{ error() }}</h3>\n        <p class=\"text-surface-600\">Please try refreshing the page.</p>\n        <p-button\n          label=\"Try Again\"\n          icon=\"pi pi-refresh\"\n          (onClick)=\"reload()\"\n          class=\"mt-4\"\n          severity=\"secondary\"\n        />\n      </div>\n    } @else {\n      @if (apps().length > 0 || isLoading()) {\n        <app-grid\n          [columns]=\"columns()\"\n          [data]=\"apps()\"\n          [loading]=\"isLoading()\"\n          [pagination]=\"true\"\n          [rows]=\"10\"\n          [sortable]=\"true\"\n          styleClass=\"h-full\"\n        />\n      } @else {\n        <div\n          class=\"flex flex-col items-center justify-center py-24 text-center\"\n        >\n          <div\n            class=\"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mb-6\"\n          >\n            <i class=\"pi pi-plus text-4xl text-primary\"></i>\n          </div>\n          <h3 class=\"text-2xl font-bold text-surface-900 mb-2\">\n            Build Your First App\n          </h3>\n          <p class=\"text-surface-600 max-w-md mb-8\">\n            Create custom integrations and widgets to enhance the CypherView\n            experience for everyone.\n          </p>\n          <p-button\n            routerLink=\"../editor\"\n            label=\"Start Creating\"\n            icon=\"pi pi-rocket\"\n            severity=\"primary\"\n            size=\"large\"\n          />\n        </div>\n      }\n    }\n  </div>\n</div>\n\n<ng-template #appIconTemplate let-app>\n  <div class=\"flex items-center gap-2\">\n    <img\n      [src]=\"app.iconUrl\"\n      [alt]=\"app.name + ' icon'\"\n      class=\"w-8 h-8 rounded object-cover shadow-sm bg-surface-100\"\n    />\n    <span class=\"font-medium text-surface-900\">{{ app.name }}</span>\n  </div>\n</ng-template>\n\n<ng-template #statusTemplate let-app>\n  <app-status-badge [status]=\"app.status\" />\n</ng-template>\n\n<ng-template #actionsTemplate let-app>\n  <div class=\"flex gap-2\">\n    <p-button\n      [routerLink]=\"['/app-store', app.id]\"\n      icon=\"pi pi-eye\"\n      size=\"small\"\n      [text]=\"true\"\n      severity=\"secondary\"\n      pTooltip=\"View Details\"\n    />\n    @if (app.status !== 'approved') {\n      <p-button\n        [routerLink]=\"['/editor', app.id]\"\n        icon=\"pi pi-pencil\"\n        size=\"small\"\n        [text]=\"true\"\n        severity=\"secondary\"\n        pTooltip=\"Edit App\"\n      />\n    }\n  </div>\n</ng-template>\n"],
  "mappings": "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",
  "names": []
}
